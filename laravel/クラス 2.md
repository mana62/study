# クラス
＝Laravelのコントローラーはクラスなので、アクセス修飾子が使える

```php
<?php

namespace App\Http\Controllers;

// これはクラス！
class PokemonController extends Controller
{
    // クラスの中のメソッドだからpublicが使える
    public function index()
    {
        return view('pokemon.index');
    }

    public function show($id)
    {
        return view('pokemon.show');
    }

    // privateも使える
    private function validatePokemon($data)
    {
        // バリデーション処理
    }

    // protectedも使える
    protected function getPokemonData()
    {
        // データ取得処理
    }
}
```

## クラス外は使えない
```php
// ✅ クラスの中 - アクセス修飾子が使える
class PokemonController extends Controller
{
    public function index() {  // OK
        //...
    }
}

// ❌ クラスの外 - アクセス修飾子は使えない
public function test() {  // エラー！
    echo "test";
}

function test() {  // OK（普通の関数）
    echo "test";
}
```

## まとめ
✅ クラスのメソッド → **public/private/protected**が使える
例: コントローラー、モデル、サービスクラスなど
❌ クラスの外の関数 → アクセス修飾子は使えない
   例: routes/web.php の無名関数、ヘルパー関数など



```php
class PokemonController extends Controller
{
    // ① クラスのプロパティ（フィールド）
    private $pokemonService;
    private $limit = 10;
    
    // ② コンストラクタ
    public function __construct(PokemonService $pokemonService)
    {
        // $this = このクラスのインスタンス全体
        // $this->pokemonService = ①のプロパティ
        // $pokemonService = コンストラクタの引数（パラメータ）
        
        $this->pokemonService = $pokemonService;
        //  ↑                      ↑
        //  ①のプロパティ          引数
    }
    
    public function index()
    {
        // $this = このクラスのインスタンス全体
        // $this->pokemonService = ①のプロパティ（constructorで代入した値）
        // $this->limit = ①のプロパティ
        
        $pokemons = $this->pokemonService->getAll();
        $limit = $this->limit;
    }
}
```

```php
class Person
{
    private $name;  // ① プロパティ
    private $age;   // ① プロパティ
    
    public function __construct($name, $age)
    {
        // $this = この人物（インスタンス）全体
        $this->name = $name;  // この人物の名前 = 引数の名前
        $this->age = $age;    // この人物の年齢 = 引数の年齢
    }
    
    public function introduce()
    {
        // $this = この人物（インスタンス）全体
        echo "私は{$this->name}で、{$this->age}歳です";
        //         ↑この人物の名前  ↑この人物の年齢
    }
}

$taro = new Person("太郎", 20);
// $taro->name = "太郎"
// $taro->age = 20

$hanako = new Person("花子", 25);
// $hanako->name = "花子"
// $hanako->age = 25

$taro->introduce();   // "私は太郎で、20歳です"
$hanako->introduce(); // "私は花子で、25歳です"
```

## $thisとは
❌ constructorで書いてるものを指す（×）
✅ クラスのインスタンス全体を指す（○）

## $this->プロパティ名
= クラスのプロパティ（フィールド）にアクセス
= そのインスタンスが持っている変数

## constructor内の$this->pokemonService = $pokemonService;

左側: クラスのプロパティ（インスタンス変数）
右側: コンストラクタの引数（パラメータ）

## JSとlaravelのthisの考え方は全く一緒
# thisと$this
✅ JSの`this` = PHPの`$this`
✅ どちらも「newで生成されたインスタンス自体」を指す
✅ 各メソッド内で「自分自身」にアクセスするための特別な変数

# 違い
- JavaScript: this.property
- PHP: $this->property

概念は完全に同じ！