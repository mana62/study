# Linux ユーザーとグループと権限

## ユーザーとグループの関係

| Linuxの種類 | 説明 |
| --- | --- |
| **root** | **管理者（最強の権限）** |
| **一般ユーザー** | **通常のユーザー** |
| **グループ** | **複数のユーザーをまとめたもの** |

- グループを使うと「特定のメンバーだけ編集OK」みたいにできる

---

## `id` コマンドで、自分が所属するグループを確認
```bash
id
```
---

## 権限について

- **-** （ファイル）
- **d** （ディレクトリ）
- **R** （読み取り） = 4
- **W** （書き込み） = 2
- **X** （実行） = 1

数字を足し算することで、権限を表現する

| 権限 | 読み取り (4) | 書き込み (2) | 実行 (1) | 数字の合計 |
| --- | --- | --- | --- | --- |
| `r--` | ✅ 4 | ❌ 0 | ❌ 0 | **4** |
| `rw-` | ✅ 4 | ✅ 2 | ❌ 0 | **6** |
| `rwx` | ✅ 4 | ✅ 2 | ✅ 1 | **7** |
| `--x` | ❌ 0 | ❌ 0 | ✅ 1 | **1** |

```jsx
ls -l
```

```jsx
-rwxr-xr--
```

- 最初のハイフンはファイルを表す(dの場合はディレクトリ)
- 最初の３つ ＝ ユーザーの権限
- 真ん中の３つ ＝ グループの権限
- 最後の３つ ＝ その他のユーザーの権限
- ハイフンは権限なし


| 権限部分 | 意味 |
| --- | --- |
| `rwx` | **（ユーザー：持ち主の権限）** ＝ 読み取り・書き込み・実行可（7） |
| `r-x` | **（グループの権限）** ＝ 読み取り・実行可、書き込み不可（5） |
| `r--` | **（その他のユーザーの権限）** ＝ 読み取りのみ可（4） |

- **chmod 755 ファイル名** なら `rwxr-xr-x` になる
- `chmod +x [script.sh](http://script.sh/)`  → `+x` = 実行権限のみ渡せる。`script.sh` = 対象のファイル名
- `chmod +r file.txt` → file.txtの**読み取り**権限を追加
- `chmod -w file.txt` → file.txtの**書き込み**権限を削除