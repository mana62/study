# PHP引数ルール

| 関数名         | 引数の順番    | 覚え方・設計思想                       | コード例                                                        |
| -------------- | ------------- | -------------------------------------- | --------------------------------------------------------------- |
| `array_filter` | 配列 → 関数   | フィルター対象をまず渡す               | `$odd = array_filter($numbers, fn($n) => $n % 2 !== 0);`        |
| `array_map`    | 関数 → 配列   | 処理内容をまず渡す（JSやPythonと同じ） | `$squared = array_map(fn($n) => $n * $n, $numbers);`            |
| `array_reduce` | 配列 → 関数   | 集計対象をまず渡す                     | `$sum = array_reduce($numbers, fn($carry, $n) => $carry + $n);` |
| `array_walk`   | 配列 → 関数   | 配列を歩くから、まず対象               | `array_walk($names, fn(&$n) => $n = strtoupper($n));`           |
| `usort`        | 配列 → 関数   | ソート対象をまず渡す                   | `usort($items, fn($a, $b) => $a <=> $b);`                       |
| `array_merge`  | 配列 → 配列   | 複数配列を順に渡す（関数なし）         | `$merged = array_merge($a, $b);`                                |
| `array_column` | 配列 → キー名 | 対象配列をまず渡す                     | `$names = array_column($users, 'name');`                        |
| `array_search` | 値 → 配列     | 探したい値を先に渡す                   | `$index = array_search('green', $colors);`                      |

---

## 補足

- `array_filter` だけは「配列 → 関数」の順で、他言語（JS/Python）と逆
- `array_map` は「関数 → 配列」で、処理内容を先に定義する設計
- Laravelの `Collection` メソッドは `map`, `filter` どちらも「関数 → コレクション」の順で統一されている

---

## 覚え方のコツ：動詞で分類する
### 1. 「フィルターする」系 → 配列が先
`array_filter, array_reduce, array_walk, usort`

**覚え方：「何を処理するか（配列）をまず渡す」**

例：「この配列をフィルターして」「この配列を集計して」

```bash
$numbers = [1, 2, 3, 4, 5];
$odd = array_filter($numbers, fn($n) => $n % 2 !== 0); # $numbers配列が先
```

### 2. 「変換する」系 → 関数が先
`array_map`

**覚え方：「どう変換するか（関数）をまず渡す」**

例：「この処理をこの配列に適用して」

```bash
$numbers = [1, 2, 3, 4, 5];
$squared = array_map(fn($n) => $n * $n, $numbers); # fn($n)関数が先、第二引数に配列
```

### 3. 「探す・抽出する」系 → 値やキーが先
`array_search, array_column`

**覚え方：「何を探すか・どのキーを抜き出すかを先に渡す」**

例：「この値をこの配列から探して」「このキーを抜き出して」

```bash
$colors = ['red', 'green', 'blue'];
$index = array_search('green', $colors); # 'green'値が先
```

### 4. 「結合する」系 → 配列を順に渡す
`array_merge`

**覚え方：「複数の配列を順に渡すだけ」**

例：「この配列とこの配列をくっつけて」

```bash
$a = [1, 2];
$b = [3, 4];
$merged = array_merge($a, $b); # $a, $b配列を順番に渡す
```

---

## まとめ

```php
$numbers = [1, 2, 3, 4, 5];
$odd = array_filter($numbers, fn($n) => $n % 2 !== 0);
$squared = array_map(fn($n) => $n * $n, $numbers);
$sum = array_reduce($numbers, fn($carry, $n) => $carry + $n);
$names = ['Taro', 'Jiro'];
array_walk($names, fn(&$n) => $n = strtoupper($n));

$items = [3, 1, 4];
usort($items, fn($a, $b) => $a <=> $b);

$a = [1, 2];
$b = [3, 4];
$merged = array_merge($a, $b);

$users = [
  ['id' => 1, 'name' => 'Taro'],
  ['id' => 2, 'name' => 'Jiro']
];
$names = array_column($users, 'name');

$colors = ['red', 'green', 'blue'];
$index = array_search('green', $colors);


