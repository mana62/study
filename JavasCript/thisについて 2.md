# thisã«ã¤ã„ã¦

## ðŸŸ æ™®é€šã®é–¢æ•°ã®å ´åˆã®this
ï¼ã€Œå‘¼ã³å‡ºã—æ–¹ã€ã§ this ãŒæ±ºã¾ã‚‹ï¼ˆå®Ÿè¡Œæ™‚ã«æ±ºã¾ã‚‹ï¼‰

**use strict ã®å ´åˆ**
âš«ï¸Žãƒ‰ãƒƒãƒˆã®å·¦ã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ this

```js
"use strict";

const user = {
  name: "Taro",
  show() {
    console.log(this.name); // "Taro"
  }
};

user.show(); // this = user
```

âš«ï¸Žå·¦ã«ä½•ã‚‚ãªã„å ´åˆã¯ undefined

```js
"use strict";

function test() {
  console.log(this); // undefined
}

test(); // this = undefined
```


**use strict ã˜ã‚ƒãªã„å ´åˆ**
âš«ï¸Žãƒ‰ãƒƒãƒˆã®å·¦ã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ this
âš«ï¸Žå·¦ã«ä½•ã‚‚ãªã„å ´åˆã¯ ã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãªã‚‰ windowï¼‰

```js
function test() {
  console.log(this); // window
}

test(); // this = window
```

ðŸ‘‰ **æ™®é€šã®é–¢æ•°ã¯ "å‘¼ã°ã‚Œæ–¹" ã§ this ãŒå¤‰ã‚ã‚‹**

## ðŸŸ ã‚¢ãƒ­ãƒ¼é–¢æ•°ã®æ™‚ã®å ´åˆã®this
ï¼ this ã‚’æŒãŸãšã€å¤–å´ã® this ã‚’ãã®ã¾ã¾ä½¿ã†ï¼ˆãƒ¬ã‚­ã‚·ã‚«ãƒ« thisï¼‰

âš«ï¸Ž å¤–å´ã® this ã‚’å¼•ãç¶™ã
```js
const user = {
  name: "Taro",
  show: function () {
    const inner = () => {
      console.log(this.name); // "Taro"
    };
    inner();
  }
};

user.show(); // this = user

// â†’ ã‚¢ãƒ­ãƒ¼é–¢æ•°ã¯ ä½œã‚‰ã‚ŒãŸå ´æ‰€ã® thisï¼ˆ= userï¼‰ ã‚’ä½¿ã†
```


âš«ï¸Ž å‘¼ã³å‡ºã—æ–¹ã‚’å¤‰ãˆã¦ã‚‚ this ã¯å¤‰ã‚ã‚‰ãªã„
```js
const obj = {
  name: "Taro",
  fn: () => {
    console.log(this); // windowï¼ˆå¤–å´ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼‰
  }
};

obj.fn(); // this ã¯ obj ã«ãªã‚‰ãªã„
```


## ðŸŸ  ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã¨ this
= é–¢æ•°ã‚’å¼•æ•°ã¨ã—ã¦æ¸¡ã—ã€å¤–å´ã®é–¢æ•°ãŒãã®é–¢æ•°ã‚’å¾Œã§å®Ÿè¡Œã™ã‚‹ã“ã¨

âš«ï¸Ž æ™®é€šã®é–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã™ã‚‹ã¨ this ãŒå¤‰ã‚ã‚‹
```js
const user = {
  name: "Taro",
  showLater: function () {
    setTimeout(function () {
      console.log(this.name); // undefinedï¼ˆthis ãŒå¤‰ã‚ã‚‹ï¼‰
    }, 100);
  }
};

user.showLater();
```

âš«ï¸Ž ã‚¢ãƒ­ãƒ¼é–¢æ•°ãªã‚‰ this ãŒå¤–å´ã®ã¾ã¾ï¼ˆã‚¢ãƒ­ãƒ¼é–¢æ•°ã¯å¤–å´ã®thisã‚’ä½¿ã†ãŸã‚ï¼‰
```js
const user = {
  name: "Taro",
  showLater: function () {
    setTimeout(() => {
      console.log(this.name); // "Taro"
    }, 100);
  }
};

user.showLater();
```
**ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã§thisã‚’ä½¿ã„ãŸã„å ´åˆã¯ã‚¢ãƒ­ãƒ¼é–¢æ•°ã‚’ä½¿ã†ï¼ˆå¤–å´ã®thisã‚’ä½¿ã£ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã‹ã‚‰ï¼‰**

## ã¾ã¨ã‚
| ç¨®é¡ž               | this ã®æ±ºã¾ã‚Šæ–¹                 | ä¾‹                          |
|--------------------|----------------------------------|------------------------------|
| æ™®é€šã®é–¢æ•°         | å‘¼ã³å‡ºã—æ–¹ã§æ±ºã¾ã‚‹               | obj.fn() â†’ obj               |
| ã‚¢ãƒ­ãƒ¼é–¢æ•°         | å¤–å´ã® this ã‚’å¼•ãç¶™ã           | () => this                   |
| ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯       | æ™®é€šã®é–¢æ•°ã ã¨ this ãŒå¤‰ã‚ã‚‹     | setTimeout(function(){})     |
| ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆã‚¢ãƒ­ãƒ¼ï¼‰ | å¤–å´ã® this ã‚’ä¿æŒ           | setTimeout(() => {})         |
