# localStorage
＝Webブラウザ（クライアントサイド）にデータを永続的に保存するための仕組み

## localStorage の特徴
- データの永続性: ブラウザを閉じたりPCを再起動したりしても、明示的に削除しない限りデータは残り続ける
- 大容量: 従来のCookie（約4KB）に対し、ドメインごとに約5MB程度のデータを保存可能
- 文字列保存: データは「キー（名前）」と「値」のペアで、すべて文字列として保存される。オブジェクトや配列を保存する場合は、JSON形式に変換する必要がある
- セキュリティ: 同一オリジンポリシーに基づき、データを保存したサイト（ドメイン）からのみアクセス可能

## 使用する場面
- ユーザー設定: ダークモードの切り替え設定や、選択した言語情報の保持
- 入力フォームの一時保存: 入力中のデータを保存し、誤ってページを閉じても復元できるようにする
- ショッピングカート: ログイン前でもカートに入れた商品を保持し続ける機能

## データは「キー」と「値（文字列）」のセットで保存される
```js
// データの保存
localStorage.setItem('key', 'value');

// データの取得
const data = localStorage.getItem('key');

// データの削除
localStorage.removeItem('key');

// 全データのクリア
localStorage.clear();
```

## ⚠️ 注意点
- 保存形式: 文字列のみ対応。オブジェクトや配列を保存する場合は `JSON.stringify()`（オブジェクト → 文字列） で変換し、取得時に `JSON.parse()` （文字列 → オブジェクト）で戻す必要がある
- セキュリティ: 機密情報（パスワードや個人情報）は絶対に保存してはいけない

## Cookie・SessionStorageとの比較
| 機能            | 保存期間               | 保存容量 | サーバー通信 |
|-----------------|------------------------|----------|--------------|
| LocalStorage    | 永続的                 | 約5MB    | なし         |
| SessionStorage  | タブを閉じると消える   | 約5MB    | なし         |
| Cookie          | 設定した期限まで       | 約4KB    | あり（毎回） |
