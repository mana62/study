# é…åˆ—
ï¼å€¤ã®ã¾ã¨ã¾ã‚Š

## Array.isArray(value)
ï¼ã€Œãã®å€¤ãŒæœ¬ç‰©ã®é…åˆ—ã‹ã©ã†ã‹ã€ã‚’åˆ¤å®š
ï¼trueã‹falseã‚’è¿”ã™

## ç–ãªé…åˆ—ï¼ˆããªé…åˆ—ï¼‰
ï¼indexãŒé€£ç•ªã§ã¯ãªãã€éš™é–“ï¼ˆemptyï¼‰ãŒã‚ã‚‹é…åˆ—ã®ã“ã¨

```js
const a = [1, , 3]; // 2ãŒãªã„ã®ã§ã€ç–ãªé…åˆ—
```

## å¯†ãªé…åˆ—
ï¼indexãŒé€£ç•ªã§ä¸¦ã‚“ã§ã„ã¦é€”ä¸­ã«éš™é–“ãŒãªã„é…åˆ—ã®ã“ã¨

```js
const a = [1, 2, 3];
```

## é…åˆ—ã‚’ä½œã‚‹4ã¤ã®æ–¹æ³•
â‘ è§’ã‹ã£ã“ []ï¼ˆä¸€èˆ¬çš„ï¼‰

```js
const a = [1, 2, 3];
```

â‘¡`new Array()`
```js
const arr = new Array('apple', 'banana', 'orange');
console.log(arr); // ['apple', 'banana', 'orange']
```
```js
// ä¾‹å¤–
new Array(5);
```
ï¼å¼•æ•°ãŒ1ã¤ã‹ã¤æ•°å€¤ã®å ´åˆã€**ãã®æ•°ã‚’ length ã¨ã™ã‚‹é…åˆ—ã‚’ä½œã‚‹**

â‘¢`Array` ï¼ˆnew ãªã—ï¼‰
- `new Array()` ã¨åŒã˜æŒ™å‹•
- `new` ã‚’çœç•¥ã§ãã‚‹ã ã‘

```js
Array(1, 2); // [1, 2]
Array(5);    // length 5 ã®ç–ãªé…åˆ—

```
ï¼()å†…ã«æ•°å­—ã‚’æŒ‡å®šã—ãŸå ´åˆã€lengthã®æ•°ã¨ã—ã¦å‡¦ç†ã•ã‚Œã¦ã—ã¾ã†


â‘£`Array.of`
- â‘¡ã¨â‘¢ã¨æŒ™å‹•ã¯ä¸€ç·’
- å”¯ä¸€é•ã†ã®ã¯ã€æ•°å­—ã‚’æ‰±ã£ã¦ã‚‚lengthã¨æ‰±ã‚ã‚Œãšã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹

```js
Array.of(5);   // [5]
Array(5);      // length 5 ã®é…åˆ—
```
ï¼Array.of ã¯æ•°å€¤ã§ã‚‚å¿…ãšã€Œè¦ç´ ã€ã¨ã—ã¦æ‰±ã†

## é…åˆ—ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡
â‘ ã‚³ãƒ”ãƒ¼ï¼ˆã‚·ãƒ£ãƒ­ãƒ¼ã‚³ãƒ”ãƒ¼ï¼‰
```js
const num = [1,2,3,4];
const copyNum = [...num];
```

## é…åˆ—ã®åˆ†å‰²ä»£å…¥
â‘ é€šå¸¸ã®åˆ†å‰²ä»£å…¥
```js
const num = [1,2,3,4];
const [a, b, c, d] = num;
```
ï¼a,b,c,dã¯å¤‰æ•°åã‚’æ›¸ã

â‘¡ãƒ¬ã‚¹ãƒˆæ§‹æ–‡
```js
const num = [1,2,3,4];
const [first, second, ...rest] = num;
```
`first` = 1å€‹ç›®ã®å€¤ï¼ˆ1ï¼‰
`second` = 2å€‹ç›®ã®å€¤ï¼ˆ2ï¼‰
`...rest` =æ®‹ã‚Šã®å€¤å…¨ã¦ï¼ˆ3,4ï¼‰

## `Array.from`
=ã€Œé…åˆ—ã£ã½ã„ã‚‚ã®ã€ã‚’ã€Œæœ¬ç‰©ã®é…åˆ—ã€ã«å¤‰æ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰

```js
const nodeList = document.querySelectorAll('div');
```
ã“ã‚Œã¯é…åˆ—ã˜ã‚ƒãªã„
```js
nodeList.map(...) // âŒ ã‚¨ãƒ©ãƒ¼
```

### Array.from ã‚’ä½¿ã†ã¨
```js
const arr = Array.from(nodeList);
arr.map(...) // OK
```

**ä½¿ãˆã‚‹å¯¾è±¡**
- NodeList
- arguments
- { 0: 'a', 1: 'b', length: 2 }
- æ–‡å­—åˆ— 'abc'

## array-like ã¨ã¯ï¼Ÿ
ï¼ã€Œé…åˆ—ã£ã½ãè¦‹ãˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€

```js
const arrayLike = {
  0: 'a',
  1: 'b',
  length: 2
};
```
ï¼é…åˆ—ã˜ã‚ƒãªã„ã‘ã©ã€é…åˆ—ã£ã½ã„

â‘¢ç‰¹å®šã®å€¤ã®ã¿å–å¾—ã—ãŸã„å ´åˆ
```js
const num = [1,2,3,4];
const [, , only3] = num;
```
ï¼ã‚«ãƒ³ãƒã‚’ç½®ãã“ã¨ã§ã€1,2,ï¼”ã‚’ã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹
ï¼only3ã¯ã€å¤‰æ•°åã‚’æ›¸ã

## array-like / arguments / NodeList / push.call
ğŸ‘‰ array-like ã¯ã€Œæ¦‚å¿µã€
ğŸ‘‰ arguments / NodeList ã¯ã€Œå…·ä½“ä¾‹ã€
ğŸ‘‰ push.call ã¯ã€Œç„¡ç†ã‚„ã‚Šä½¿ã†æŠ€ã€

| åå‰         | æ­£ä½“        | é…åˆ—ï¼Ÿ | map / push ä½¿ãˆã‚‹ï¼Ÿ | å…¸å‹çš„ãªä¾‹                |
| ---------- | --------- | --- | --------------- | -------------------- |
| array-like | æ¦‚å¿µãƒ»å‘¼ã³å    | âŒ   | âŒ               | arguments / NodeList |
| arguments  | é–¢æ•°å†…ã®ç‰¹åˆ¥ãªå¤‰æ•° | âŒ   | âŒ               | é–¢æ•°ã®å¼•æ•°                |
| NodeList   | DOMã®é›†åˆ    | âŒ   | âŒï¼ˆâ€»ä¸€éƒ¨å¯ï¼‰         | querySelectorAll     |
| push.call  | é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰ã®æµç”¨ | â€•   | âš ï¸ ç„¡ç†ã‚„ã‚Š         | array-likeæ“ä½œ         |


### â‘  array-likeï¼ˆé…åˆ—ã£ã½ã„ã‚‚ã®ï¼‰
æ„å‘³ : é…åˆ—ã˜ã‚ƒãªã„ã‘ã©ã€é…åˆ—ã£ã½ã„æ§‹é€ ã‚’ã—ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

æ¡ä»¶ï¼ˆã–ã£ãã‚Šï¼‰
- æ•°å­—ã®ã‚­ãƒ¼ãŒã‚ã‚‹
- length ãŒã‚ã‚‹

```js
// ä¾‹
const arrayLike = {
  0: 'a',
  1: 'b',
  length: 2
};
```

âŒ arrayLike.map()
âŒ arrayLike.push()

ğŸ‘‰ è¦‹ãŸç›®ãŒé…åˆ—ãªã ã‘

### â‘¡ argumentsï¼ˆé–¢æ•°ã®å¼•æ•°ãŸã¡ï¼‰
æ­£ä½“ï¼šé–¢æ•°å†…ã§ä½¿ãˆã‚‹ array-like

```js
// ä¾‹
function sample() {
  console.log(arguments);
}

sample(1, 2, 3);
```

ä¸­èº«ã¯ã“ã‚“ãªæ„Ÿã˜ğŸ‘‡
```js
{
  0: 1,
  1: 2,
  2: 3,
  length: 3
}
```

ã‚ˆãã‚ã‚‹äº‹æ•…
```js
arguments.map(x => x * 2);
// âŒ TypeError
```

æ­£è§£ãƒ ãƒ¼ãƒ–
```js
const arr = Array.from(arguments);
arr.map(x => x * 2);
```

### â‘¢ NodeListï¼ˆDOMã®é›†ã¾ã‚Šï¼‰
æ­£ä½“ï¼šDOMæ“ä½œã§è¿”ã£ã¦ãã‚‹ array-like

```js
// ä¾‹
const nodes = document.querySelectorAll('div');
```

ã§ããªã„ã“ã¨
- nodes.push(...)
- nodes.map(...)
- ï¼ˆâ€» forEach ã ã‘ã¯ä½¿ãˆã‚‹ã“ã¨ãŒå¤šã„ï¼‰

æ­£è§£ãƒ ãƒ¼ãƒ–
```js
const arr = Array.from(nodes);
arr.map(node => node.textContent);
```

### â‘£ push.callï¼ˆç„¡ç†ã‚„ã‚ŠæŠ€ï¼‰
æ­£ä½“ï¼šé…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ array-like ã«ç›´æ¥ä½¿ã†è£æŠ€

```js
// ä¾‹
const arrayLike = {
  0: 'a',
  1: 'b',
  length: 2
};

Array.prototype.push.call(arrayLike, 'c');
```

çµæœğŸ‘‡
```sj
{
  0: 'a',
  1: 'b',
  2: 'c',
  length: 3
}
```

ãªãœå‹•ãï¼Ÿ
push ã¯ğŸ‘‡ã—ã‹è¦‹ã¦ãªã„ã‹ã‚‰
```js
this.length
this[length] ã«ä»£å…¥
```

âš ï¸ ã§ã‚‚ push.call ã¯ã“ã†è€ƒãˆã¦
| è¦³ç‚¹   | è©•ä¾¡       |
| ---- | -------- |
| ç†è§£ç”¨  | â—        |
| ãƒ‡ãƒãƒƒã‚° | â—        |
| å®Ÿå‹™   | âŒ ã»ã¼ä½¿ã‚ãªã„ |

ğŸ‘‰ Array.from ã§é…åˆ—ã«ã—ã¦ã‹ã‚‰ push ãŒæ­£è§£

## ã¾ã¨ã‚
```js
array-like ã¯æ¦‚å¿µ
  â”œ argumentsï¼ˆé–¢æ•°ï¼‰
  â”œ NodeListï¼ˆDOMï¼‰
  â†“
Array.from ã§é…åˆ—åŒ–
  â†“
map / push / filter ã‚’ä½¿ã†
```

- array-like = é…åˆ—ã®ãƒ•ãƒªã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- arguments / NodeList = ã‚ˆãå‡ºã¦ãã‚‹å®Ÿä¾‹
- push.call = ã€Œä»•çµ„ã¿ç†è§£ç”¨ã®è£æŠ€ã€
- å®Ÿå‹™ã§ã¯ Array.from ä¸€æŠ