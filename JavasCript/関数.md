# 関数
＝関数はオブジェクトの一種
⚫︎「オブジェクト」→ プロパティを持てる入れ物
⚫︎「関数」→ 「呼び出せる能力」を持った特別なオブジェクト

## 関数の種類
```bash
関数
├─ 関数宣言
└─ 関数式
    ├─ 無名関数式
    ├─ 名前付き関数式
    └─ アロー関数
```

## ①関数宣言（Function Declaration）
```js
function add(a, b) {
  return a + b;
}
```
⚫︎関数宣言とは
- 文（statement）として定義される関数
- プログラム開始時に 丸ごと読み込まれる

⚫︎特徴
- 巻き上げ（ホイスティング）可能（定義より前に呼び出すこと）
- 定義前でも呼び出せる
- 常に名前を持つ（名前付き関数）
- グローバル／ブロックスコープに登録される

```js
add(1, 2); // OK

function add(a, b) {
  return a + b;
}
```
⚫︎使える場面
- プログラムの「土台」
- 何度も使う処理
- ユーティリティ関数

## ② 関数式（Function Expression）
⚫︎共通点
- 式（expression）
- 評価すると 関数オブジェクト（値）になる
- 代入・引数・戻り値にできる
- 巻き上げされない（必ず定義した後に呼び出す）

```js
const fn = /* ← ここに関数式 */;
```

## ②-1 無名関数式（Anonymous Function Expression）
例 :
```js
const greet = function () {
  console.log("Hello");
};
```
⚫︎無名関数式とは
＝**function の後に名前がない関数式**

⚫︎特徴
- シンプル
- 再帰できない（自分の名前がない）
- エラー時に関数名が出にくい

⚫︎よく使われる例（コールバック）
```js
setTimeout(function () {
  console.log("3秒後");
}, 3000);
```

⚫︎向いている場面
- 使い捨て
- 短い処理
- その場限りのコールバック

## ②-2 名前付き関数式（Named Function Expression）
例 :
```js
const factorial = function fact(n) {
  if (n === 1) return 1;
  return n * fact(n - 1);
};
```
⚫︎名前付き関数式とは
- 関数式だけど、内部用の名前を持つ

⚫︎特徴
- 関数の中で自分を呼べる（再帰）
- エラー時に関数名が表示される
- 外からは名前が見えない

```js
fact(3);       // ❌ エラー
factorial(3); // ⭕
```
⚫︎向いている場面
- 再帰処理
- 複雑なコールバック
- デバッグ重視

## ②-3 アロー関数（Arrow Function）
例 :
```js
const add = (a, b) => a + b;
```
⚫︎アロー関数とは
- 関数式の 省略記法
- function を書かない

⚫︎特徴
- this を持たない（外側の this を使う）
- arguments が使えない
- 書きやすい・短い
- コンストラクタにできない
```js
const double = n => n * 2;
```

⚫︎向いている場面
- 配列操作
- コールバック
- ロジックが短い処理
```js
[1, 2, 3].map(n => n * 2);
```

⚠️無名関数=アロー関数
⚫︎無名関数とアロー関数の違い
- 波括弧とreturnを省略できる
- パラメータが1つの場合は引数の()を消せる ※空の場合や2個の場合は()が必要
- thisが違う

## 比較まとめ
| 種類      | 文/式 | 巻き上げ | 名前   | 再帰 | this |
| ------- | --- | ---- | ---- | -- | ---- |
| 関数宣言    | 文   | ⭕    | 必須   | ⭕  | 動的   |
| 無名関数式   | 式   | ❌    | なし   | ❌  | 動的   |
| 名前付き関数式 | 式   | ❌    | 内部のみ | ⭕  | 動的   |
| アロー関数   | 式   | ❌    | 推論   | △  | 固定   |


⚫︎関数宣言：最初から使える関数
⚫︎無名関数式：その場限りの関数
⚫︎名前付き関数式：デバッグ＆再帰用
⚫︎アロー関数：短く書くための関数
