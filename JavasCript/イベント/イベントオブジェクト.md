# イベント
＝ 何かが起きた時に何かを実行すること＝イベント処理

- ボタンがクリックされた → click イベント
- キーボードが押された → keydown イベント
- マウスが乗った → mouseover イベント
- ページが読み込まれた → DOMContentLoaded イベント

## イベントリスナーと「イベントオブジェクト」の関係
- ブラウザでは ボタンをクリックしたり、キーを押したりするなどの「イベント」 が起きたとき、**事前に登録していた関数（イベントリスナー） を呼び出す**
- 呼び出されるとき、ブラウザはそのイベントに関する情報を **第1引数 として渡してくれる**
- この情報をまとめたオブジェクトを **イベントオブジェクト**（event object） と呼ぶ

```js
button.addEventListener('click', function(event) {
    console.log(event); // クリックしたときの情報が入っている
});
```
＝引数に `event` を渡すことで、クリックした時の情報を知れる
＝event が **イベントオブジェクト**

## イベントオブジェクトの中身
- イベントの種類によって持っている情報は変わる
- マウスクリック → clientX, clientY（クリック位置）
- キーボード入力 → key, code（押されたキー）
- 共通のプロパティもある
  - 例：type → どの種類のイベントか（クリックなら "click"）

## 継承関係
- イベントオブジェクトは階層構造になっている

```js
Event（全イベント共通）
 └─ UIEvent（スクロールなどUIイベント用）
     └─ MouseEvent（マウスイベント用）
         └─ PointerEvent（タッチやマウスなどポインター共通）
```
＝つまり、特定のイベントオブジェクトは、**上位の共通プロパティも使える**

## 引数を取る場合と取らない場合の違い
### ① 引数を取る場合
```js
button.addEventListener('click', function(event) {
    console.log(event.type);     // "click" → イベントの種類
    console.log(event.clientX);  // クリックした場所のX座標
    console.log(event.clientY);  // クリックした場所のY座標
});
```
- 第1引数 event にイベントの情報が入る
- クリックした位置や押されたキーなど、詳細情報を取得可能
- 実務ではほとんどの場合この書き方

### ② 引数を取らない場合
```js
button.addEventListener('click', function() {
    console.log('クリックされました');
});
```
- event オブジェクトにはアクセスできない
- 「クリックされたことだけを知りたい」場合はこれで十分

## 例
### ①preventDefault()
```js
button.addEventListener('click', function(e) {
    e.preventDefault();
});
```
- e = イベントオブジェクト
- preventDefault() は ブラウザが本来そのイベントでやろうとしている「標準の動作」をキャンセルする メソッド
- 例えば：
`<a href="…">リンク</a>` のクリック → ページ遷移するのを防ぐ
`<form> の送信` → ページのリロードを防ぐ
- 引数で e を取らないと、このメソッドにアクセスできない

### ②stopPropagation()
```js
button.addEventListener('click', function(e) {
    e.stopPropagation();
});
```
- イベントは階層（親→子）を伝わる場合がある
- `stopPropagation()` は イベントのバブリング（伝播）を止める
- つまり親要素に伝わってほしくない場合に使う

## まとめ
- イベントオブジェクトは、ブラウザが自動で渡してくれるイベント情報
- 引数を受け取ると詳細情報を使える
- 引数を受け取らないと、イベントの種類やマウス位置などはわからない

```bash
ブラウザがクリック → 関数を呼ぶときにeventを渡す → 引数で受け取る → その情報を処理に使う
```