# èª­ã¿è¾¼ã¿ã®é€²è¡ŒçŠ¶æ³ã‚’çŸ¥ã‚‹ãŸã‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ

| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ã‚¤ãƒ™ãƒ³ãƒˆ               | ä½•ãŒçµ‚ã‚ã£ãŸï¼Ÿ        |
| ----- | ------------------ | -------------- |
| é€”ä¸­    | `readystatechange` | èª­ã¿è¾¼ã¿æ®µéšãŒå¤‰ã‚ã£ãŸ    |
| DOMå®Œæˆ | `DOMContentLoaded` | HTMLè§£æï¼‹JSå®Ÿè¡Œå®Œäº†  |
| å…¨éƒ¨å®Œäº†  | `load`             | ç”»åƒãƒ»CSSãƒ»JSã™ã¹ã¦å®Œäº† |

ğŸ‘‰ ã»ã¼ã“ã®3ã¤

## å…¨ä½“ã®æµã‚Œ
HTMLè§£æé–‹å§‹
 â†“
readyState = "loading"
 â†“
DOMå®Œæˆ
 â†“
readyState = "interactive"
 â†“
DOMContentLoaded ç™ºç«
 â†“
ç”»åƒãƒ»CSSãƒ»async JS å®Œäº†
 â†“
readyState = "complete"
 â†“
load ç™ºç«

## â‘  document.readyState ã¨ã¯ï¼Ÿ
```js
document.readyState
```
ğŸ‘‰ ãƒ–ãƒ©ã‚¦ã‚¶ã® ä»Šã®èª­ã¿è¾¼ã¿çŠ¶æ³ã‚’æ–‡å­—åˆ—ã§æ•™ãˆã¦ãã‚Œã‚‹

| å€¤               | æ„å‘³      |
| --------------- | ------- |
| `"loading"`     | HTMLè§£æä¸­ |
| `"interactive"` | DOMå®Œæˆ   |
| `"complete"`    | ã™ã¹ã¦å®Œäº†   |


## â‘¡ readystatechange ã‚¤ãƒ™ãƒ³ãƒˆ
```js
document.addEventListener("readystatechange", () => {
  console.log(document.readyState);
});
```
ğŸ‘‰ readyState ãŒå¤‰ã‚ã‚‹ãŸã³ã«ç™ºç«

| çŠ¶æ…‹å¤‰åŒ–                   | ç™ºç« |
| ---------------------- | -- |
| loading â†’ interactive  | ç™ºç« |
| interactive â†’ complete | ç™ºç« |

## â‘¢ DOMContentLoadedï¼ˆé‡è¦ï¼‰
```js
document.addEventListener("DOMContentLoaded", () => {
  // DOMæ“ä½œã¯ã“ã“ã§OK
});
```
ğŸ‘‰ DOMãŒå®Œå…¨ã«ä½œã‚‰ã‚ŒãŸç¬é–“
ï¼åˆæœŸå€¤ãªã©ã§ç”¨ã„ã‚‰ã‚Œã‚‹ã“ã¨ãŒå¤šã„

**ãƒã‚¤ãƒ³ãƒˆ**
- HTMLè§£æå®Œäº†
- deferã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œå®Œäº†
- ç”»åƒãƒ»CSSã¯å¾…ãŸãªã„
ğŸ‘‰ DOMæ“ä½œã¯ã“ã“ãŒæœ€é©

## â‘£ load ã‚¤ãƒ™ãƒ³ãƒˆ
```js
window.addEventListener("load", () => {
  // ã™ã¹ã¦èª­ã¿è¾¼ã¿å®Œäº†
});
```
ğŸ‘‰ ãƒšãƒ¼ã‚¸å†…ã®å…¨ãƒªã‚½ãƒ¼ã‚¹ãŒå®Œå…¨ã«èª­ã¿è¾¼ã¾ã‚ŒãŸ

**å«ã¾ã‚Œã‚‹ã‚‚ã®**
- ç”»åƒ
- CSS
- JS
- iframe
- ãƒ•ã‚©ãƒ³ãƒˆ
ğŸ‘‰ æœ¬å½“ã«å…¨éƒ¨çµ‚ã‚ã£ãŸåˆå›³

## â‘¤ DOMContentLoaded ã¨ load ã®é•ã„ï¼ˆé‡è¦ï¼‰
|       | DOMContentLoaded | load   |
| ----- | ---------------- | ------ |
| DOMæ“ä½œ | â­•                | â­•      |
| ç”»åƒå¾…ã¡  | âŒ                | â­•      |
| CSSå¾…ã¡ | âŒ                | â­•      |
| ç™ºç«é€Ÿåº¦  | é€Ÿã„               | é…ã„     |
| ä¸»ãªç”¨é€”  | åˆæœŸåŒ–å‡¦ç†            | ç”»åƒä¾å­˜å‡¦ç† |

ğŸ‘‰ é€šå¸¸ã¯ DOMContentLoaded ã‚’ä½¿ã†

## â‘¥ unload / beforeunloadï¼ˆç”»é¢é›¢è„±æ™‚ï¼‰
```js
window.addEventListener("beforeunload", (e) => {
  e.preventDefault();
  e.returnValue = "";
});
```
ğŸ‘‰ ãƒšãƒ¼ã‚¸é›¢è„±å‰ã«è­¦å‘Šã‚’å‡ºã›ã‚‹

**ä¾‹ï¼š**
- å…¥åŠ›é€”ä¸­ãƒ•ã‚©ãƒ¼ãƒ 
- æœªä¿å­˜ã®ãƒ‡ãƒ¼ã‚¿
- ç·¨é›†ç”»é¢

## â‘¦ ä½¿ã„åˆ†ã‘
| ã‚„ã‚ŠãŸã„ã“ã¨  | ä½¿ã†ã‚¤ãƒ™ãƒ³ãƒˆ           |
| ------- | ---------------- |
| DOMæ“ä½œ   | DOMContentLoaded |
| åˆæœŸåŒ–å‡¦ç†   | DOMContentLoaded |
| ç”»åƒã‚µã‚¤ã‚ºå–å¾— | load             |
| ãƒšãƒ¼ã‚¸é›¢è„±è­¦å‘Š | beforeunload     |
| çŠ¶æ…‹ç›£è¦–    | readystatechange |

## â‘§ å®Ÿå‹™ã§ã‚ˆãä½¿ã†
```js
document.addEventListener("DOMContentLoaded", () => {
  // åˆæœŸåŒ–å‡¦ç†ã¯ã“ã“
});
```
ğŸ‘‰ ã“ã‚ŒãŒ9å‰²ã®ã‚±ãƒ¼ã‚¹ã§æ­£è§£

## ã¾ã¨ã‚
- readyState â†’ çŠ¶æ…‹ç¢ºèª
- readystatechange â†’ çŠ¶æ…‹å¤‰åŒ–ã‚¤ãƒ™ãƒ³ãƒˆ
- DOMContentLoaded â†’ DOMå®Œæˆ
- load â†’ å…¨éƒ¨å®Œæˆ
- beforeunload â†’ é›¢è„±é˜²æ­¢