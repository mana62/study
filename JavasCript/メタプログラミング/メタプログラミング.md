# メタプログラミング
＝メタプログラミング：コード自身を生成する(関数を新しく定義する、変数を作る)コードを書くこと
プログラムが自身（コード）を生成、解析、変更、操作する手法


- **Proxy** → オブジェクトの動きを監視・操作
- **Reflect** → オブジェクト操作の関数版
- **Symbol** → ぶつからない安全なキー
- **Well-known Symbol** → JS が用意した特別なシンボル
- **Symbol.iterator** → 反復可能にするためのキー
- **Generator** → イテレータを簡単に作れる関数
- **Iterable Prototype** → 配列やオブジェクトをループできるようにする「親ルール」
- **タグ付きテンプレート** → テンプレートリテラル（バッククォート ``）に関数をくっつけて、文字列の中身を自由に処理できる機能

## 簡単に例えると
| 用語                     | 水っぽいイメージでざっくり説明！                                                                 |
|--------------------------|---------------------------------------------------------------------------------------------|
| **Proxy**                | 水の流れにセンサーをつけて、「今、誰かが水をすくったぞ！」って気づける装置。動きを監視＆操作できる！        |
| **Reflect**              | 水の操作をボタン1つでできるリモコン。Proxyとセットで使うと便利！                                     |
| **Symbol**               | 名前がかぶらない「魔法のラベル」。他の人と絶対ぶつからない安全なタグ！                                 |
| **Well-known Symbol**    | JavaScriptがあらかじめ用意してる「特別な魔法のラベル」。たとえば `Symbol.iterator` とか！             |
| **Symbol.iterator**      | 「この水、くり返しすくえますよ〜」っていう目印。これがあると `for...of` で回せる！                     |
| **Generator**            | 水を一気に出さずに、**ちょっとずつチョロチョロ出す蛇口**。`yield` で1つずつ出せる！                     |
| **Iterable Prototype**   | 「この水は順番にすくえるよ」っていうルールを決めてる親。配列とかがこのルールを持ってる！                 |
| **タグ付きテンプレート** | 水に味をつけるフィルター！テンプレート文字列に関数をくっつけて、好きな味に変えられる！                   |


## イテレーション（繰り返し処理）に関するもの

| 用語                     | 説明                                                                 |
|--------------------------|----------------------------------------------------------------------|
| **Iterable（イテラブル）**     | `for...of` で回せる「繰り返し可能なオブジェクト」                                  |
| **Symbol.iterator**      | イテラブルを作るための“特別なキー”。これがあると `for...of` で回せる              |
| **ジェネレーター（Generator）** | `function*` で定義する特殊な関数。`yield` を使って値を1つずつ返せる。イテラブルを作るのに便利 |



## メタプログラミング（オブジェクトの裏側を操作）に関するもの

| 用語                                | 説明                                                                 |
|-------------------------------------|----------------------------------------------------------------------|
| **Proxy**                           | オブジェクトのふるまいを“横取り”してカスタマイズできる魔法のラッパー！         |
| **Reflect API**                     | Proxyと一緒に使うことが多い。オブジェクトの基本操作を関数として提供するAPI。     |
| **Symbol**                          | JavaScriptの“ユニークな識別子”。オブジェクトのプロパティキーとして使える！       |
| **well-known Symbol（組み込みシンボル）** | `Symbol.iterator` など、JavaScriptが特別な意味を持たせた予約済みのSymbolたち。 |


## よく使うのはこれくらい
| 機能                                       | 普段使う頻度 | 用途例                  |
| ---------------------------------------- | ------ | -------------------- |
| `Symbol`                                 | 稀に     | Redux のアクションタイプの衝突防止 |
| `Symbol.iterator` / `for…of` / Generator | 中くらい   | 配列や文字列のループ、大量データ処理   |
| Spread（`...`）                            | よく使う   | 配列やオブジェクトのコピー、結合     |
| Array.from                               | 中くらい   | 配列っぽいオブジェクトを本物の配列に変換 |


## あまり使わない（特殊なメタプログラミング）
| 機能                                         | 使う場面               | 実務での頻度           |
| ------------------------------------------ | ------------------ | ---------------- |
| Proxy                                      | 高度なライブラリ開発、デバッグ、監視 | ほとんどのアプリ開発では不要   |
| Reflect                                    | Proxy とセットで使う      | Proxy を使わないと出番なし |
| Well-known Symbol（`isConcatSpreadable` など） | 言語の内部動作をカスタマイズ     | 本当に稀             |
| Iterable Prototype の改造                     | 独自のオブジェクトをループ可能に   | 高度なライブラリ以外ほぼ不要   |



## まとめ

| カテゴリ               | キーワードたち                                           |
|------------------------|----------------------------------------------------------|
| **イテレーション系**       | `Iterable`, `Symbol.iterator`, `ジェネレーター`              |
| **メタプログラミング系**   | `Proxy`, `Reflect API`, `Symbol`, `well-known Symbol`       |
